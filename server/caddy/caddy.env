# Shared Caddy environment defaults
# Usage: source server/caddy/caddy.env

export NOA_CADDY_ADMIN_ENDPOINT="${NOA_CADDY_ADMIN_ENDPOINT:-http://127.0.0.1:2019}"
export NOA_CADDY_PRIMARY_DOMAIN="${NOA_CADDY_PRIMARY_DOMAIN:-noa-ark-os.com}"
export NOA_CADDY_UPSTREAM="${NOA_CADDY_UPSTREAM:-localhost:8080}"
export NOA_CADDY_WS_UPSTREAM="${NOA_CADDY_WS_UPSTREAM:-localhost:8080}"
export NOA_CADDY_METRICS_TARGET="${NOA_CADDY_METRICS_TARGET:-localhost:9090}"
export NOA_CADDY_ACME_EMAIL="${NOA_CADDY_ACME_EMAIL:-admin@noa-ark-os.com}"
export NOA_CADDY_RATE_EVENTS="${NOA_CADDY_RATE_EVENTS:-100}"
export NOA_CADDY_RATE_WINDOW="${NOA_CADDY_RATE_WINDOW:-1m}"
export NOA_CADDY_STORAGE_ROOT="${NOA_CADDY_STORAGE_ROOT:-data/storage/caddy}"
export NOA_CADDY_APP_LOG="${NOA_CADDY_APP_LOG:-logs/applications/caddy/app.log}"
export NOA_CADDY_ACCESS_LOG="${NOA_CADDY_ACCESS_LOG:-logs/applications/caddy/access.log}"
export NOA_CADDY_LOG_LEVEL="${NOA_CADDY_LOG_LEVEL:-INFO}"
export NOA_CADDY_HEALTH_URI="${NOA_CADDY_HEALTH_URI:-/health}"
export NOA_CADDY_DEV_UPSTREAM="${NOA_CADDY_DEV_UPSTREAM:-127.0.0.1:8080}"
export NOA_CADDY_STAGING_UPSTREAM="${NOA_CADDY_STAGING_UPSTREAM:-localhost:18080}"
export NOA_CADDY_SECURE_UPSTREAM="${NOA_CADDY_SECURE_UPSTREAM:-localhost:28080}"
export NOA_CADDY_CLIENT_CA="${NOA_CADDY_CLIENT_CA:-config/system/ca/clients.pem}"

cat <<INFO
âœ… Loaded Caddy defaults
   ADMIN        = $NOA_CADDY_ADMIN_ENDPOINT
   DOMAIN       = $NOA_CADDY_PRIMARY_DOMAIN
   UPSTREAM     = $NOA_CADDY_UPSTREAM
   RATE LIMIT   = $NOA_CADDY_RATE_EVENTS events / $NOA_CADDY_RATE_WINDOW
   STORAGE ROOT = $NOA_CADDY_STORAGE_ROOT
INFO
