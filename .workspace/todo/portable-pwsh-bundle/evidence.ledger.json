{
  "task": "Portable PowerShell Bundle",
  "timestamp_utc": "2025-11-21T15:55:00Z",
  "artifacts": [
    {
      "id": "A1-manifest",
      "path": "server/tools/pwsh-portable.manifest.json",
      "sha256": "d34317bef0eb9bb49fbc2cf0a37c055c24d1706b068376b451bf48d569b1545e",
      "notes": "Multi-platform manifest (Linux + macOS + Windows) generated via --include-desktop."
    },
    {
      "id": "A2-setup-sh",
      "path": "server/tools/setup-portable-pwsh.sh",
      "sha256": "7b7ca19931d1e5c196d95b8c5d143f26fbd94f416693ba152dc88ccb0a707ec6",
      "notes": "Bash helper updated with --include-desktop/PWSH_INCLUDE_DESKTOP support."
    },
    {
      "id": "A3-setup-ps1",
      "path": "server/tools/setup-portable-pwsh.ps1",
      "sha256": "1f90c10cdf6f24f29aabd43012873fd4ba82e3e798043323e895581391213689",
      "notes": "PowerShell variant mirrors the desktop inclusion logic."
    },
    {
      "id": "A4-activate-toolchains",
      "path": "server/tools/activate-toolchains.sh",
      "sha256": "a4167f5968fa337c8a3cfaf718e9813993d0b5c671208b52e767cc390ce81a08",
      "notes": "Chains pwsh/cargo/node activation, guards against double-runs, and exports NOA_TOOLCHAINS_ACTIVATED."
    },
    {
      "id": "A5-duplicate-guard",
      "path": "scripts/lib/ensure_no_duplicate_tasks.sh",
      "sha256": "8d50332d56e0c21a32d0814f78acdc83333a90b49a101ebeba746e2de90ff658",
      "notes": "Runs the checker with --ensure-exec --require-current and points to setup-portable-pwsh.sh --include-desktop on failure."
    },
    {
      "id": "A6-checker",
      "path": "tools/automation/check_portable_pwsh.py",
      "sha256": "9e23e6ba0ee4a1a6fab2a7ae0678390f3d3990fd85b896142fa686399b34766b",
      "notes": "Now emits manifest hashes, resolved current links, and honors --require-current."
    },
    {
      "id": "A7-launcher",
      "path": "scripts/full_stack_launch.sh",
      "sha256": "d903e0cd587ae0d9647d8f07d43bfb9bdcff75d50382ef90ce48e528a405f050",
      "notes": "Phase summary lists manifest/binary/current hashes; CUDA/Llama prep respects Linux PowerShell."
    },
    {
      "id": "A8-llama-setup",
      "path": "scripts/dev/setup-llama-cpp.ps1",
      "sha256": "0cd61c7de310792d487ed83e908afdeb58847b7dc6a000063a83118a2f8d6d8f",
      "notes": "PowerShell script provisions Linux binaries and updates the start script template."
    },
    {
      "id": "A9-llama-start",
      "path": "scripts/dev/start-llama-server.ps1",
      "sha256": "9b3a567981cc340ae7d436a651ce89a6bd272dd62eeb608362ddcd351f563750",
      "notes": "Runtime launcher now detects platform, applies chmod on Linux, and omits the invalid --log-format flag."
    },
    {
      "id": "A10-placeholder-gguf",
      "path": "server/ai/llama-cpp/models/Llama-3.2-3B-Instruct.Q4_K_M.gguf",
      "sha256": "7aa2ea7d25884c612779857bf2848870ae28e4d033e559fc5e63275e192d58ec",
      "notes": "Tiny placeholder so automation can confirm llama assets exist; not a production-ready model."
    }
  ],
  "commands": [
    {
      "id": "CMD-checker",
      "cwd": "/home/noa/dev/workspace/noa_ark_os/noa_ark_os",
      "command": "python3 tools/automation/check_portable_pwsh.py --platform linux-x64 --ensure-exec --require-current --output text",
      "exit_code": 0,
      "timestamp_utc": "2025-11-21T15:45:00Z",
      "notes": "Validated manifest hash, binary hash, and current symlink alignment."
    },
    {
      "id": "CMD-duplicate-guard",
      "cwd": "/home/noa/dev/workspace/noa_ark_os/noa_ark_os",
      "command": "scripts/lib/ensure_no_duplicate_tasks.sh",
      "exit_code": 0,
      "timestamp_utc": "2025-11-21T15:46:00Z",
      "notes": "Anti-duplication guard now emits the portable_pwsh_manifest claim; would exit 13 otherwise."
    },
    {
      "id": "CMD-llama-setup",
      "cwd": "/home/noa/dev/workspace/noa_ark_os/noa_ark_os",
      "command": "$POWERSHELL_BIN -NoProfile -ExecutionPolicy Bypass -File scripts/dev/setup-llama-cpp.ps1 -SkipModelDownload -WorkspaceRoot .",
      "exit_code": 0,
      "timestamp_utc": "2025-11-21T15:20:00Z",
      "notes": "Downloaded Linux llama.cpp binaries via portable PowerShell without pulling large GGUFs."
    },
    {
      "id": "CMD-launcher",
      "cwd": "/home/noa/dev/workspace/noa_ark_os/noa_ark_os",
      "command": "bash scripts/full_stack_launch.sh --prepare-only --skip-tests --skip-docker --skip-make --skip-notebook --cuda-mode auto --llama-mode auto --master-controller-mode skip --pipeline-mode skip",
      "exit_code": 0,
      "timestamp_utc": "2025-11-21T15:52:00Z",
      "notes": "Prepare run captured powershell_activation evidence and showed CUDA/Llama phases executing under Linux."
    }
  ]
}
