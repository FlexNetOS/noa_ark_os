# HITL Elimination Map

This map tracks each manual control, the automation task that retires it, and any cascading dependencies across subsystems.

| HITL ID | Manual Step | Automation Task | Notes |
| --- | --- | --- | --- |
| HITL-QS-01 | Manual execution of Quickstart bootstrapper | [AMP-BOOT-01](automation_master_plan.md#amp-boot-quickstart) | Depends on provisioning service reliability improvements landed in the bootstrap orchestrator. |
| HITL-MR-02 | Manual curation of model metadata for registry promotion | [AMP-MREG-02](automation_master_plan.md#amp-mreg-updater) | Consumes telemetry emitted by the automated bootstrap to validate environment readiness before publishing. |
| HITL-DEV-03 | Manual offline GitHub CLI setup | [AMP-GHCLI-03](automation_master_plan.md#amp-ghcli-offline) | Requires access to credential seeding pipeline output packaged with the bootstrap artifacts. |

All entries now reference automation anchors directly, maintaining the one-to-one traceability needed for HITL elimination reporting.
<!-- BEGIN: HITL_ELIMINATION_MAP -->
| Area | Subsystem | HITL Path | HITL Type | Proposed Automation | AI Role | Offline Mechanism | Online Feature Flag | Risks | Acceptance Criteria | Dependencies |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| Build | Developer onboarding | `scripts/dev/quickstart.sh` prompt | confirm | Extend script into `runa bootstrap --auto` pipeline that runs cargo build/test/demo non-interactively, captures logs, and asks triage AI to summarize failures into `tools/offline_pr_queue/logs/quickstart`. | triage | Local `runa` CLI + llama.cpp summarizer | `ONLINE_GITHUB_MODE` to optionally upload summary | AI misclassification of failure context | `runa bootstrap --auto` exits non-zero on failure and writes summary/report without pausing for input. | `runa-cli-core`, `ai-provider-abstraction` |
| Release | CRC integration | `cicd/pipelines/crc-auto.yaml` `quality_gate` manual review | review | Introduce policy engine evaluating metrics + AI triage on logs to auto-decide pass/fail, escalating only when confidence <0.9; decisions recorded in `crc/logs/quality_gate.jsonl`. | triage | Offline CRC runner with cached metrics fixtures | `ONLINE_GITHUB_MODE` to sync escalation tickets | False green if metrics spoofed | Gate auto-passes when metrics meet thresholds and AI score ≥0.9, else creates escalation artifact. | `runa-cli-core`, `ai-provider-abstraction`, `offline-ci-runner` |
| Operations | Relocation daemon | `apps/cli` `approve` subcommand | approve | Build rule-based evaluator + AI triage to auto-approve safe actions via `runa relocation auto-approve`, logging verdicts under `.workspace/relocation/logs`. | triage | Local policy engine + llama.cpp review | `RELOCATION_SYNC_MODE` toggles GitHub issue sync | Over-approving risky relocations | 100% approvals include policy decision log, AI confidence, and rollback command; risky cases queued for manual. | `ai-provider-abstraction`, `policy-engine-core` |
| Build | Merge tooling | `workflow/flows/merge/README.md` manual conflict resolution | runbook | Implement `runa merge --auto` that replays merge, uses AI code reviewer to draft patches, and reruns verification before updating queue. | code review | Git worktree sandbox + llama.cpp diff assistant | `ONLINE_GITHUB_MODE` pushes comments to PR when enabled | Incorrect conflict resolution | Auto-merge succeeds for ≥95% historical conflict cases in dry-run tests; failures create structured TODO with suggested edits. | `runa-cli-core`, `ai-provider-abstraction`, `offline-ci-runner` |
| Release | Documentation | `docs/plans/gap_remediation_tasks.md` release notes drafting | doc writer | Generate release notes via `runa release notes --from-ledger`, feeding merged PR ledger into doc-drafter AI, storing drafts under `docs/releases/drafts/`. | doc writer | Local llama.cpp doc generator + Markdown templates | `ONLINE_GITHUB_MODE` publishes to GitHub releases | Inaccurate summaries | Every release run produces draft + diff summary + acceptance checklist; human edit optional but not required. | `runa-cli-core`, `ai-provider-abstraction`, `offline-pr-ledger` |
| Infrastructure | Model registry | `tools/ai/ollama_manager.sh` manual registry edit when `yq` missing | config | Add embedded YAML updater (`python -m ruamel.yaml` fallback) and AI triage to validate registry diffs, preventing manual edits. | triage | Bundled Python fallback + llama.cpp diff validator | `AI_PROVIDER` to escalate anomalies online | Registry corruption if parser fails | Command updates registry atomically and writes validation report; manual edit no longer required. | `offline-python-runtime`, `ai-provider-abstraction` |
| Infrastructure | Tooling bootstrap | `scripts/install_gh_cli.sh` manual install fallback | runbook | Ship cached GH CLI tarballs under `tools/offline_cache/gh/` with `runa tools install gh` wrapper; AI triage suggests platform-specific fix if install fails. | triage | Offline artifact cache + checksum verification | `ONLINE_GITHUB_MODE` downloads latest tarball when allowed | Stale binaries on new platforms | Installer succeeds offline for supported OS; mismatches raise actionable AI suggestion. | `offline-artifact-cache`, `ai-provider-abstraction` |
<!-- END: HITL_ELIMINATION_MAP -->
